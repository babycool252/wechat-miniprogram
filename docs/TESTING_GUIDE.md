# 记账城市 WeChat Mini Program 测试指南

本文档提供了测试微信小程序各项功能的详细指南，包括测试步骤、预期结果和验证标准。

## 测试环境准备

1. 安装最新版本的微信开发者工具
2. 导入项目（使用测试AppID或体验版AppID）
3. 确保后端API服务器正在运行
4. 在app.js中配置正确的API基础URL

## 功能测试清单

### 1. 交易列表功能

| 测试项 | 测试步骤 | 预期结果 | 验证标准 |
|-------|---------|---------|---------|
| 加载交易 | 打开交易列表页面 | 显示所有交易记录，按日期排序（最新在前） | 交易记录正确显示，包含分类、金额、日期和位置信息 |
| 下拉刷新 | 在交易列表页面下拉 | 显示刷新动画，重新加载交易数据 | 刷新后显示最新数据 |
| 空状态显示 | 清空所有交易后查看列表 | 显示"暂无交易记录"的空状态界面 | 空状态UI符合设计，显示添加按钮 |
| 导航到表单 | 点击"添加"按钮 | 跳转到交易表单页面 | 成功跳转，表单为空白状态 |
| 查看交易详情 | 点击任意交易记录 | 跳转到表单页面，显示该交易详情 | 表单字段正确填充交易数据 |

### 2. 交易表单功能

| 测试项 | 测试步骤 | 预期结果 | 验证标准 |
|-------|---------|---------|---------|
| 类型选择 | 选择"收入"或"支出" | 类型切换成功，分类列表更新 | 分类列表显示对应类型的分类 |
| 金额输入 | 输入不同金额（包括无效值） | 有效金额正常显示，无效金额显示错误提示 | 输入"0"或负数时显示错误提示 |
| 分类选择 | 点击分类选择器 | 显示分类列表，可选择分类 | 选择后正确显示分类名称 |
| 描述输入 | 输入交易描述 | 描述文本正常显示 | 支持多行文本输入 |
| 位置输入 | 输入位置信息（如"北京"） | 位置文本正常显示 | 位置信息正确保存 |
| 日期选择 | 点击日期选择器 | 显示日期选择界面，可选择日期 | 选择后正确显示日期（YYYY-MM-DD格式） |
| 表单提交 | 填写完整表单后点击"保存" | 显示保存成功提示，返回交易列表 | 新交易出现在列表中 |
| 表单验证 | 提交不完整表单（如无金额或分类） | 显示相应错误提示 | 错误提示清晰明确 |
| 编辑交易 | 修改现有交易信息后保存 | 显示更新成功提示，返回列表 | 列表中显示更新后的交易信息 |
| 删除交易 | 在编辑模式下点击"删除交易" | 显示确认对话框，确认后删除成功 | 交易从列表中移除 |

### 3. 城市视图功能

| 测试项 | 测试步骤 | 预期结果 | 验证标准 |
|-------|---------|---------|---------|
| 城市渲染 | 打开城市视图页面 | 显示10x10网格和所有建筑 | 建筑正确放置在网格中，不同类型有不同形状 |
| 建筑创建 | 添加新交易后查看城市 | 城市中出现新建筑 | 建筑位置、类型和大小正确 |
| 建筑选择 | 点击城市中的建筑 | 显示建筑信息面板 | 面板显示建筑名称、等级、描述和关联交易信息 |
| 特殊建筑 | 在特定位置（如"北京"）添加特定类型交易 | 创建特殊建筑（如宫殿） | 特殊建筑有独特的视觉标识（如金色边框） |
| 建筑合并 | 选择建筑后点击"合并建筑"，选择多个同类型同等级建筑 | 显示合并成功提示，生成更高级建筑 | 原建筑消失，新建筑等级更高，尺寸更大 |
| 空状态显示 | 清空所有交易后查看城市 | 显示"您的城市还是空的"的空状态界面 | 空状态UI符合设计，显示添加交易按钮 |

### 4. 统计分析功能

| 测试项 | 测试步骤 | 预期结果 | 验证标准 |
|-------|---------|---------|---------|
| 时间段选择 | 选择不同时间段（今日/本周/本月/本年） | 数据更新为所选时间段的统计 | 总收入、总支出和结余金额正确计算 |
| 分类明细 | 切换"支出"和"收入"选项卡 | 显示对应类型的分类明细 | 分类金额和百分比正确计算和显示 |
| 进度条显示 | 查看分类明细中的进度条 | 进度条长度与百分比对应 | 视觉效果清晰直观 |
| 空状态显示 | 清空所有交易后查看统计 | 显示"暂无交易数据"的空状态界面 | 空状态UI符合设计，显示添加交易按钮 |

### 5. 首页功能

| 测试项 | 测试步骤 | 预期结果 | 验证标准 |
|-------|---------|---------|---------|
| 功能导航 | 点击各功能卡片 | 跳转到对应功能页面 | 成功跳转到交易列表、城市视图和统计分析页面 |
| 快速记账 | 点击"快速记账"按钮 | 跳转到交易表单页面 | 成功跳转，表单为空白状态 |

## UI/UX测试

### 1. 设计风格

| 测试项 | 测试标准 | 验证方法 |
|-------|---------|---------|
| 简约设计 | 界面简洁清晰，无冗余元素 | 视觉检查各页面布局和元素排列 |
| 高级感 | 色彩搭配协调，视觉层次分明，细节处理精致 | 检查配色、阴影、圆角、间距等设计细节 |
| 一致性 | 各页面设计风格统一，交互模式一致 | 对比不同页面的设计元素和交互方式 |
| 响应式 | 在不同尺寸设备上显示正常 | 在不同机型上测试界面布局 |

### 2. 交互体验

| 测试项 | 测试标准 | 验证方法 |
|-------|---------|---------|
| 反馈及时 | 操作后有明确的视觉或文字反馈 | 测试各种操作的反馈效果 |
| 动画流畅 | 过渡动画自然流畅，不生硬 | 检查页面切换、弹窗显示等动画效果 |
| 错误处理 | 错误提示清晰明确，提供解决方法 | 测试各种错误情况下的提示效果 |
| 加载状态 | 数据加载过程中显示加载指示器 | 测试网络请求过程中的加载状态显示 |

## 性能测试

| 测试项 | 测试标准 | 验证方法 |
|-------|---------|---------|
| 启动时间 | 小程序启动时间不超过3秒 | 计时测量从点击图标到首页显示的时间 |
| 页面切换 | 页面切换流畅，无明显卡顿 | 快速切换不同页面，观察性能表现 |
| 数据加载 | 数据加载迅速，大量数据时不卡顿 | 测试大量交易记录时的列表滚动性能 |
| 内存占用 | 长时间使用内存占用稳定 | 使用开发者工具监控内存占用情况 |

## 兼容性测试

| 测试项 | 测试标准 | 验证方法 |
|-------|---------|---------|
| 微信版本 | 在主流微信版本上运行正常 | 在不同版本的微信上测试 |
| 设备类型 | 在不同品牌和型号的设备上显示正常 | 在多种设备上测试界面布局和功能 |
| 系统版本 | 在不同iOS和Android版本上运行正常 | 在不同系统版本上测试 |

## 测试结果记录表

| 测试日期 | 测试人员 | 测试环境 | 测试项目 | 测试结果 | 问题描述 | 修复状态 |
|---------|---------|---------|---------|---------|---------|---------|
|         |         |         |         |         |         |         |

## 测试通过标准

1. 所有功能测试项通过率100%
2. UI/UX测试中的简约设计和高级感评分不低于4分（满分5分）
3. 性能测试各项指标达到标准
4. 在主流设备和微信版本上兼容性良好

## 测试注意事项

1. 测试前确保后端API服务器正常运行
2. 测试过程中记录所有发现的问题
3. 对于UI/UX测试，建议收集多人的评价意见
4. 性能测试应在真实设备上进行，不仅限于模拟器
5. 测试完成后，确保清理测试数据
